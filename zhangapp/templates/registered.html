<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    {% include "_layout/head.html" %}
    <title>注册用户</title>
    <style>
    .center {
      position: fixed;
      top: 50%;
      left: 50%;
      width:50%;
      -webkit-transform: translateX(-50%) translateY(-50%);
      text-align: center;
    }
    </style>
  </head>
  <body>
    {% if success == True %}
    <div class="well infobox center">
      <h2>注册成功！</h2>
      <p>
        恭喜你成功成为Lier OJ 的一员
      </p>
      <p>
        已经帮你自动登陆了Lier OJ。
      </p>
      <p>
        从今往后，我们将陪伴你走过你OI路上的每一个时刻
      </p>
      <p>
        感谢你对Lier OJ的支持
      </p>
      <p>
        让我们一起在更强的路上奋斗吧
      </p>
      <a href="/"class="btn btn-sup btn-material-pink btn-raised"><span>来首页逛逛吧</span></a>
    </div>
    {% else %}
    <div class="panel panel-info center" style="max-width:450px;width:50%;margin:auto auto;">
      <div class="panel-heading">
        <h3 class="panel-title">注册</h3>
      </div>
      <div class="panel-body" >
        <form method="post">
          {% if error %}
          <div class="alert alert-dismissible alert-warning">
            <button type="button" class="close" data-dismiss="alert">×</button>
            <h4>Warning!</h4>
            {% if 'wtf' in error %}
            <p>神特么未知错误老子要疯了</p>
            {% endif %}
            {% if 'qnmlgb' in error %}
            <p>Please Go Away :)</p>
            {% endif %}
            {% if 'emailnone' in error %}
            <p>邮箱不可为空</p>
            {% endif %}
            {% if 'namenone' in error %}
            <p>昵称不可为空</p>
            {% endif %}
            {% if 'email' in error %}
            <p>这个邮箱已经注册过了</p>
            {% endif %}
            {% if 'name' in error %}
            <p>这个昵称已经注册过了</p>
            {% endif %}
            {% if 'passnone' in error %}
            <p>密码不可为空</p>
            {% endif %}
            {% if 'pass2' in error %}
            <p>两次密码不一致</p>
            {% endif %}
          </div>
          {% endif %}
          {% csrf_token %}
          {{ form }}
          <div class="form-group">
          <label for="inputEmail" class="col-md-2 control-label">Email</label>
          <div class="col-md-10">
            <input type="email" class="form-control" name="email" placeholder="Email" required>
          </div>
          </div>
          <div class="form-group">
            <label for="inputEmail" class="col-md-2 control-label">昵称</label>
            <div class="col-md-10">
              <input type="text" class="form-control" name="username" placeholder="昵称(中英文都可以吧)" required>
            </div>
          </div>
          <div class="form-group">
            <label for="inputPassword" class="col-md-2 control-label">Password</label>
            <div class="col-md-10">
              <input type="password" class="form-control" name="password1" placeholder="Password" required>
            </div>
          </div>
          <div class="form-group">
            <label for="inputPassword" class="col-md-2 control-label">重复Password</label>
            <div class="col-md-10">
              <input type="password" class="form-control" name="password2" placeholder="Password" required>
            </div>
          </div>
          <div style="margin:0 auto;width:200px;">
            <button type="submit" class="btn btn-raised btn-warning">注册</button>
          </div>
        <form>
      </div>
    </div>
    {% endif %}
  </body>
</html>
